{% extends "base.html" %}
{% load tags %}
{% block content %}

<div class="jumbotron">
    <h2 class="display-4">Znajdź kierunek studiów</h2>
    <p class="lead">System pomoże wybrać ci najbardziej dopasowany kierunek studiów. 
        <ul>
            <li class="lead">Najpierw zostaniesz poproszony o wybranie stopnia studiów.</li> 
            <li class="lead">Potem w przypadku szukania studiów I stopnia będziesz mógł uzupełnić które przedmioty zdawałeś na maturze. </li>
            <li class="lead">Finalnie zostanie ci kilkukrotnie wyświetlone 10 różnych tematyk które możesz zaznaczyć jeżeli ci się podobają. Na ich podstawie otrzymasz kilka najbardziej dopasowanych kierunków studiów</li> 
        </ul>
    </p>
    <hr class="my-4">
</div>

<div class="container my-3">
    <form method="post" onsubmit="return validateForm()">
        {% csrf_token %}
        <div class="container mx-auto p-3 bg-white rounded border" style="max-width: 650px;">
            <h4 class="text-center pb-2">Wybierz przedmioty preferowane uczelnie.</h4>
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="{{ progress }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ progress }}%;"></div>
            </div>
            <br>
            {% for uni in universities %}
              <div class="form-check d-flex align-items-center mb-3">
                  <input type="checkbox" class="form-check-input" id="{{ uni.id }}" name="university" value="{{ uni.id }}">
                  <label class="form-check-label fs-5 ms-2" for="{{ uni.id }}">{{ uni.name }}</label>
              </div>
            {% endfor %}
            <hr class="my-4">
            <button type="submit" class="btn btn-primary btn-lg d-block mx-auto w-75 my-1">Zapisz i przejdź dalej</button> 
        </div>
    </form>
</div>

<script>
    function validateForm() {
        var checkboxes = document.querySelectorAll('input[type="checkbox"]');
        var checked = false;

        for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxes[i].checked) {
                checked = true;
                break;
            }
        }

        if (!checked) {
            alert("Proszę wybierz przynajmniej 1 opcję.");
            return false;
        }
    }
</script>


    
{% endblock %}